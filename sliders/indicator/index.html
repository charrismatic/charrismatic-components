<style>
/* Navigation
-------------------------------------------------- */
.navbar {
	position: relative;
    z-index: 12;
    padding: 0;
    margin: 0;
    float: none;
	border-bottom: 6px solid #fff;
    background: #E6E6E6;
}

.navbar .nav{
	position: relative;
    left: 0;
    display: block;
    float: none;
    margin: auto;
}

#innerNav{
	width: 800px;
    margin: auto;
    position: relative;
}


#slider {
    width: 0;
    height: 0;
    position: absolute;
    bottom: 0;
    left: 10.3438px;
    border-left: 15px solid rgba(230, 230, 230, 0);
    border-right: 15px solid rgba(230, 230, 230, 0);
    border-bottom: 15px solid #FFF;
}

.navbar ul.nav { text-align:center; }
.navbar .nav > li {
	display:inline-block;
	float:none;
}

.navbar .nav li{
	padding: 0px 10px;
    display: inline-block;
    color: #272727;
    text-shadow: none;
    font-size: 18px;
    line-height: 86px;
	font-family: 'BebasRegular', Arial, sans-serif;
	-webkit-transition: background .3s;
	-moz-transition: background .3s;
	-o-transition: background .3s;
	-ms-transition: background .3s;
	transition: background .3s;
	cursor: pointer;
	cursor: hand;
}

.navbar .nav > li:hover,
.navbar .nav > li:focus,
.navbar .nav > .active,
.navbar .nav > .active:hover,
.navbar .nav > .active:focus {
	background: rgba(0, 0, 0, .1);
	-webkit-box-shadow: none;
	-moz-box-shadow: none;
	-o-box-shadow: none;
	box-shadow: none;
	color: #000;
}

/* Tablet to desktop
------------------------- */
@media (min-width: 768px) and (max-width: 979px) {

	.navbar {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		background: none;
		padding-top:0;
	}
	.navbar .nav {
		padding-top:5px;
	}
	.navbar ul.nav {
		text-align:left;
	}
	.navbar .nav > li {
		display:block;
		float:none;
	}
	.navbar .nav > li a {
		font-size:14px;
		line-height:30px;
		font-weight:normal;
	}
	.navbar .nav > li a:hover,
	.navbar .nav > li a:focus,
	.navbar .nav > .active a,
	.navbar .nav > .active a:hover,
	.navbar .nav > .active a:focus {
		color: #000;
	}
}


/* Tablet
------------------------- */
@media (max-width: 767px) {

	.navbar {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		background: none;
		padding-top:0;
	}
	.navbar .nav {
		padding-top:5px;
	}
	.navbar ul.nav {
		text-align:left;
	}
	.navbar .nav > li {
		display:block;
		float:none;
	}
	.navbar .nav > li a {
		font-size:14px;
		line-height:30px;
		font-weight:normal;
	}
	.navbar .nav > li a:hover,
	.navbar .nav > li a:focus,
	.navbar .nav > .active a,
	.navbar .nav > .active a:hover,
	.navbar .nav > .active a:focus {
		color: #000;
	}
}
</style>

<nav class="navbar" data-spy="affix" data-offset-top="600">
	<div id="innerNav">
    	<ul class="nav" id="scrollNav">
			<div id="slider"></div>
			<li id="about">Home</li>
		    <li id="byschedule">Schedule</li>
		    <li id="bysecurity">Security</li>
		    <li id="custombuilt">Custom</li>
		    <li id="pricing">Pricing</li>
		    <li id="contact">Contact</li>
	    </ul>
	</div>
</nav>


<script src="lib/jquery-3.1.1.min.js"></script>
<script>
// FUNCTION TO MAKE SLIDER FOLLOW THE MOUSE NICELY
// STILL IN DEVELOPMENT
var mouseX = 0;
var limitX = $('#scrollNav').offset().left + $('#scrollNav').width();

// TODO: FIND THESE PARTS
var sliderMoving;
function moveSlider(){
    var follower = $("#slider");

}

$('#scrollNav').mousemove(function(e){

    // HANDLE TAB INDICATOR ON HOVER
    var parentPos = $('#scrollNav').offset().left;

    var navArr = [
        $('#scrollNav #about').offset().left - parentPos + ($('#scrollNav #about').width()/2) - 10,
        $('#scrollNav #byschedule').offset().left - parentPos + ($('#scrollNav #byschdule').width()/2) - 10,
        $('#scrollNav #bysecurity').offset().left - parentPos + ($('#scrollNav #bysecurity').width()/2) - 10,
        $('#scrollNav #custombuilt').offset().left - parentPos + ($('#scrollNav #custombuilt').width()/2) - 10,
        $('#scrollNav #pricing').offset().left - parentPos + ($('#scrollNav #pricing').width()/2) - 10,
        $('#scrollNav #contact').offset().left - parentPos + ($('#scrollNav #contact').width()/2) - 10
    ]

    var navStartArr = [
        $('#scrollNav #about').offset().left - parentPos,
        $('#scrollNav #byschedule').offset().left - parentPos,
        $('#scrollNav #bysecurity').offset().left - parentPos,
        $('#scrollNav #custombuilt').offset().left - parentPos,
        $('#scrollNav #pricing').offset().left - parentPos,
        $('#scrollNav #contact').offset().left - parentPos
    ]

    console.log(navArr);
    console.log(navStartArr);

    var offset = $('#scrollNav').offset();
    mouseX = Math.min(e.pageX - offset.left, limitX);
    if (mouseX < 0) mouseX = 0;

        // cache the selector
        var xp = 0, yp = 0;
        var loop = setInterval(function(){
            // change damp to alter damping higher is slower
            damp = 10;
            xp += (mouseX - xp) / damp;

            // REJECT IF SLIDER IS MOVING
            if (sliderMoving == "true"){
                return;
            }

            else{
               if(mouseX < navStartArr[1] ){
                   moveSlider( navArr[0] );
               }
               if(mouseX > navStartArr[1] && mouseX < navStartArr[2] ){
                   moveSlider( navArr[1] );
               }
               if(mouseX > navStartArr[2] && mouseX < navStartArr[3] ){
                   moveSlider( navArr[2] );
               }
               if(mouseX > navStartArr[3] && mouseX < navStartArr[4] ){
                   moveSlider( navArr[3] );
               }
               if(mouseX > navStartArr[4] && mouseX < navStartArr[5] ){
                   moveSlider( navArr[4] );
               }
               if(mouseX > navStartArr[5] ){
                   moveSlider( navArr[5] );
               }
            }

        }, 300);

});
</script>
